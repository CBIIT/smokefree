!function(h,u,p,m,f,d){var i,s,g,l,v,y=this,w=Math.floor(1e4*Math.random()),b=Function.prototype,k=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,t=/[\-\w]+\/\.\.\//,o=/([^:])\/\//g,_="",x={},e=h.easyXDM,O="easyXDM_",M=!1;function T(n,e){var t=typeof n[e];return"function"==t||!("object"!=t||!n[e])||"unknown"==t}function S(){var n,e="Shockwave Flash",t="application/x-shockwave-flash";if(!D(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var o=navigator.plugins[e].description;o&&!D(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(s=o.match(/\d+/g))}if(!s)try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),s=Array.prototype.slice.call(n.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),n=null}catch(n){}if(!s)return!1;var a=parseInt(s[0],10),r=parseInt(s[1],10);return g=9<a&&0<r,!0}if(T(h,"addEventListener"))l=function(n,e,t){n.addEventListener(e,t,!1)},v=function(n,e,t){n.removeEventListener(e,t,!1)};else{if(!T(h,"attachEvent"))throw new Error("Browser not supported");l=function(n,e,t){n.attachEvent("on"+e,t)},v=function(n,e,t){n.detachEvent("on"+e,t)}}var n,a=!1,r=[];function c(){if(!a){a=!0;for(var n=0;n<r.length;n++)r[n]();r.length=0}}if(!(a="readyState"in u?"complete"==(n=u.readyState)||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==n||"interactive"==n):!!u.body)){if(T(h,"addEventListener"))l(u,"DOMContentLoaded",c);else if(l(u,"readystatechange",function(){"complete"==u.readyState&&c()}),u.documentElement.doScroll&&h===top){var E=function(){if(!a){try{u.documentElement.doScroll("left")}catch(n){return void m(E,1)}c()}};E()}l(h,"load",c)}function R(n,e){a?n.call(e):r.push(function(){n.call(e)})}function F(n){return n.match(k)[3]}function N(n){var e=n.toLowerCase().match(k),t=e[2],o=e[3],a=e[4]||"";return("http:"==t&&":80"==a||"https:"==t&&":443"==a)&&(a=""),t+"//"+o+a}function C(n){if(!(n=n.replace(o,"$1/")).match(/^(http||https):\/\//)){var e="/"===n.substring(0,1)?"":p.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1)),n=p.protocol+"//"+p.host+e+n}for(;t.test(n);)n=n.replace(t,"");return n}function P(n,e){var t="",o=n.indexOf("#");-1!==o&&(t=n.substring(o),n=n.substring(0,o));var a=[];for(var r in e)e.hasOwnProperty(r)&&a.push(r+"="+d(e[r]));return n+(M?"#":-1==n.indexOf("?")?"?":"&")+a.join("&")+t}var H=function(n){for(var e,t={},o=(n=n.substring(1).split("&")).length;o--;)t[(e=n[o].split("="))[0]]=f(e[1]);return t}(/xdm_e=/.test(p.search)?p.search:p.hash);function D(n){return void 0===n}var j,B=function(){var n={},e={a:[1,2,3]},t='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(e).replace(/\s/g,"")===t?JSON:(Object.toJSON&&Object.toJSON(e).replace(/\s/g,"")===t&&(n.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(e=t.evalJSON()).a&&3===e.a.length&&3===e.a[2]&&(n.parse=function(n){return n.evalJSON()}),n.stringify&&n.parse?(B=function(){return n},n):null)};function L(n,e,t){var o;for(var a in e)e.hasOwnProperty(a)&&(a in n?"object"==typeof(o=e[a])?L(n[a],o,t):t||(n[a]=e[a]):n[a]=e[a]);return n}function J(n){var e;D(i)&&function(){var n=u.body.appendChild(u.createElement("form")),e=n.appendChild(u.createElement("input"));e.name=O+"TEST"+w,i=e!==n.elements[e.name],u.body.removeChild(n)}(),i?e=u.createElement('<iframe name="'+n.props.name+'"/>'):(e=u.createElement("IFRAME")).name=n.props.name,e.id=e.name=n.props.name,delete n.props.name,"string"==typeof n.container&&(n.container=u.getElementById(n.container)),n.container||(L(e.style,{position:"absolute",top:"-2000px",left:"0px"}),n.container=u.body);var t=n.props.src;if(n.props.src="javascript:false",L(e,n.props),e.border=e.frameBorder=0,e.allowTransparency=!0,n.container.appendChild(e),n.onLoad&&l(e,"load",n.onLoad),n.usePost){var o,a=n.container.appendChild(u.createElement("form"));if(a.target=e.name,a.action=t,a.method="POST","object"==typeof n.usePost)for(var r in n.usePost)n.usePost.hasOwnProperty(r)&&(i?o=u.createElement('<input name="'+r+'"/>'):(o=u.createElement("INPUT")).name=r,o.value=n.usePost[r],a.appendChild(o));a.submit(),a.parentNode.removeChild(a)}else e.src=t;return n.props.src=t,e}function A(n){var e,t=n.protocol;if(n.isHost=n.isHost||D(H.xdm_p),M=n.hash||!1,n.props||(n.props={}),n.isHost)n.remote=C(n.remote),n.channel=n.channel||"default"+w++,n.secret=Math.random().toString(16).substring(2),D(t)&&(t=N(p.href)==N(n.remote)?"4":T(h,"postMessage")||T(u,"postMessage")?"1":n.swf&&T(h,"ActiveXObject")&&S()?"6":"Gecko"===navigator.product&&"frameElement"in h&&-1==navigator.userAgent.indexOf("WebKit")?"5":n.remoteHelper?"2":"0");else if(n.channel=H.xdm_c.replace(/["'<>\\]/g,""),n.secret=H.xdm_s,n.remote=H.xdm_e.replace(/["'<>\\]/g,""),t=H.xdm_p,n.acl&&!function(n,e){"string"==typeof n&&(n=[n]);for(var t,o=n.length;o--;)if(t=n[o],(t=new RegExp("^"==t.substr(0,1)?t:"^"+t.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$")).test(e))return!0;return!1}(n.acl,n.remote))throw new Error("Access denied for "+n.remote);switch(n.protocol=t){case"0":if(L(n,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),n.isHost){if(!n.local){for(var o,a=p.protocol+"//"+p.host,r=u.body.getElementsByTagName("img"),i=r.length;i--;)if((o=r[i]).src.substring(0,a.length)===a){n.local=o.src;break}n.local||(n.local=h)}var c={xdm_c:n.channel,xdm_p:0};n.local===h?(n.usePolling=!0,n.useParent=!0,n.local=p.protocol+"//"+p.host+p.pathname+p.search,c.xdm_e=n.local,c.xdm_pa=1):c.xdm_e=C(n.local),n.container&&(n.useResize=!1,c.xdm_po=1),n.remote=P(n.remote,c)}else L(n,{channel:H.xdm_c,remote:H.xdm_e,useParent:!D(H.xdm_pa),usePolling:!D(H.xdm_po),useResize:!n.useParent&&n.useResize});e=[new x.stack.HashTransport(n),new x.stack.ReliableBehavior({}),new x.stack.QueueBehavior({encode:!0,maxLength:4e3-n.remote.length}),new x.stack.VerifyBehavior({initiate:n.isHost})];break;case"1":e=[new x.stack.PostMessageTransport(n)];break;case"2":n.remoteHelper=C(n.remoteHelper),e=[new x.stack.NameTransport(n),new x.stack.QueueBehavior,new x.stack.VerifyBehavior({initiate:n.isHost})];break;case"3":e=[new x.stack.NixTransport(n)];break;case"4":e=[new x.stack.SameOriginTransport(n)];break;case"5":e=[new x.stack.FrameElementTransport(n)];break;case"6":s||S(),e=[new x.stack.FlashTransport(n)]}return e.push(new x.stack.QueueBehavior({lazy:n.lazy,remove:!0})),e}function I(n){for(var e,t={incoming:function(n,e){this.up.incoming(n,e)},outgoing:function(n,e){this.down.outgoing(n,e)},callback:function(n){this.up.callback(n)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},o=0,a=n.length;o<a;o++)L(e=n[o],t,!0),0!==o&&(e.down=n[o-1]),o!==a-1&&(e.up=n[o+1]);return e}L(x,{version:"2.4.17.1",query:H,stack:{},apply:L,getJSONObject:B,whenReady:R,noConflict:function(n){return h.easyXDM=e,(_=n)&&(O="easyXDM_"+_.replace(".","_")+"_"),x}}),x.DomHelper={on:l,un:v,requiresJSON:function(n){!function(n,e){return!("object"!=typeof n[e]||!n[e])}(h,"JSON")&&u.write('<script type="text/javascript" src="'+n+'"><\/script>')}},j={},x.Fn={set:function(n,e){j[n]=e},get:function(n,e){var t=j[n];return e&&delete j[n],t}},x.Socket=function(t){var e=I(A(t).concat([{incoming:function(n,e){t.onMessage(n,e)},callback:function(n){t.onReady&&t.onReady(n)}}])),o=N(t.remote);this.origin=N(t.remote),this.destroy=function(){e.destroy()},this.postMessage=function(n){e.outgoing(n,o)},e.init()},x.Rpc=function(e,n){if(n.local)for(var t in n.local)if(n.local.hasOwnProperty(t)){var o=n.local[t];"function"==typeof o&&(n.local[t]={method:o})}var a=I(A(e).concat([new x.stack.RpcBehavior(this,n),{callback:function(n){e.onReady&&e.onReady(n)}}]));this.origin=N(e.remote),this.destroy=function(){a.destroy()},a.init()},x.stack.SameOriginTransport=function(n){var e,t,o,a;return e={outgoing:function(n,e,t){o(n),t&&t()},destroy:function(){t&&(t.parentNode.removeChild(t),t=null)},onDOMReady:function(){a=N(n.remote),n.isHost?(L(n.props,{src:P(n.remote,{xdm_e:p.protocol+"//"+p.host+p.pathname,xdm_c:n.channel,xdm_p:4}),name:O+n.channel+"_provider"}),t=J(n),x.Fn.set(n.channel,function(n){return o=n,m(function(){e.up.callback(!0)},0),function(n){e.up.incoming(n,a)}})):(o=function(){var n=parent;if(""!==_)for(var e=0,t=_.split(".");e<t.length;e++)n=n[t[e]];return n.easyXDM}().Fn.get(n.channel,!0)(function(n){e.up.incoming(n,a)}),m(function(){e.up.callback(!0)},0))},init:function(){R(e.onDOMReady,e)}}},x.stack.FlashTransport=function(a){var t,o,r,i,c;function s(n,e){m(function(){t.up.incoming(n,r)},0)}function l(t){var n=a.swf+"?host="+a.isHost,e="easyXDM_swf_"+Math.floor(1e4*Math.random());x.Fn.set("flash_loaded"+t.replace(/[\-.]/g,"_"),function(){x.stack.FlashTransport[t].swf=i=c.firstChild;for(var n=x.stack.FlashTransport[t].queue,e=0;e<n.length;e++)n[e]();n.length=0}),a.swfContainer?c="string"==typeof a.swfContainer?u.getElementById(a.swfContainer):a.swfContainer:(L((c=u.createElement("div")).style,g&&a.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),u.body.appendChild(c));var o="callback=flash_loaded"+t.replace(/[\-.]/g,"_")+"&proto="+y.location.protocol+"&domain="+F(y.location.href)+"&port="+function(n){return n.match(k)[4]||""}(y.location.href)+"&ns="+_;c.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+e+"' data='"+n+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+n+"'></param><param name='flashvars' value='"+o+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+o+"' allowScriptAccess='always' wmode='transparent' src='"+n+"' height='1' width='1'></embed></object>"}return t={outgoing:function(n,e,t){i.postMessage(a.channel,n.toString()),t&&t()},destroy:function(){try{i.destroyChannel(a.channel)}catch(n){}i=null,o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){r=a.remote,x.Fn.set("flash_"+a.channel+"_init",function(){m(function(){t.up.callback(!0)})}),x.Fn.set("flash_"+a.channel+"_onMessage",s),a.swf=C(a.swf);function n(){x.stack.FlashTransport[e].init=!0,(i=x.stack.FlashTransport[e].swf).createChannel(a.channel,a.secret,N(a.remote),a.isHost),a.isHost&&(g&&a.swfNoThrottle&&L(a.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),L(a.props,{src:P(a.remote,{xdm_e:N(p.href),xdm_c:a.channel,xdm_p:6,xdm_s:a.secret}),name:O+a.channel+"_provider"}),o=J(a))}var e=F(a.swf);x.stack.FlashTransport[e]&&x.stack.FlashTransport[e].init?n():x.stack.FlashTransport[e]?x.stack.FlashTransport[e].queue.push(n):(x.stack.FlashTransport[e]={queue:[n]},l(e))},init:function(){R(t.onDOMReady,t)}}},x.stack.PostMessageTransport=function(o){var t,a,r,i;function c(n){var e=function(n){if(n.origin)return N(n.origin);if(n.uri)return N(n.uri);if(n.domain)return p.protocol+"//"+n.domain;throw"Unable to retrieve the origin of the event"}(n);e==i&&n.data.substring(0,o.channel.length+1)==o.channel+" "&&t.up.incoming(n.data.substring(o.channel.length+1),e)}return t={outgoing:function(n,e,t){r.postMessage(o.channel+" "+n,e||i),t&&t()},destroy:function(){v(h,"message",c),a&&(r=null,a.parentNode.removeChild(a),a=null)},onDOMReady:function(){if(i=N(o.remote),o.isHost){var e=function(n){n.data==o.channel+"-ready"&&(r="postMessage"in a.contentWindow?a.contentWindow:a.contentWindow.document,v(h,"message",e),l(h,"message",c),m(function(){t.up.callback(!0)},0))};l(h,"message",e),L(o.props,{src:P(o.remote,{xdm_e:N(p.href),xdm_c:o.channel,xdm_p:1}),name:O+o.channel+"_provider"}),a=J(o)}else l(h,"message",c),(r="postMessage"in h.parent?h.parent:h.parent.document).postMessage(o.channel+"-ready",i),m(function(){t.up.callback(!0)},0)},init:function(){R(t.onDOMReady,t)}}},x.stack.FrameElementTransport=function(n){var e,t,o,a;return e={outgoing:function(n,e,t){o.call(this,n),t&&t()},destroy:function(){t&&(t.parentNode.removeChild(t),t=null)},onDOMReady:function(){a=N(n.remote),n.isHost?(L(n.props,{src:P(n.remote,{xdm_e:N(p.href),xdm_c:n.channel,xdm_p:5}),name:O+n.channel+"_provider"}),(t=J(n)).fn=function(n){return delete t.fn,o=n,m(function(){e.up.callback(!0)},0),function(n){e.up.incoming(n,a)}}):(u.referrer&&N(u.referrer)!=H.xdm_e&&(h.top.location=H.xdm_e),o=h.frameElement.fn(function(n){e.up.incoming(n,a)}),e.up.callback(!0))},init:function(){R(e.onDOMReady,e)}}},x.stack.NameTransport=function(t){var e,o,a,r,i,c,s,l;function u(n){var e=t.remoteHelper+(o?"#_3":"#_2")+t.channel;a.contentWindow.sendMessage(n,e)}function p(){o?2!=++i&&o||e.up.callback(!0):(u("ready"),e.up.callback(!0))}function f(n){e.up.incoming(n,s)}function d(){c&&m(function(){c(!0)},0)}return e={outgoing:function(n,e,t){c=t,u(n)},destroy:function(){a.parentNode.removeChild(a),a=null,o&&(r.parentNode.removeChild(r),r=null)},onDOMReady:function(){o=t.isHost,i=0,s=N(t.remote),t.local=C(t.local),o?(x.Fn.set(t.channel,function(n){o&&"ready"===n&&(x.Fn.set(t.channel,f),p())}),l=P(t.remote,{xdm_e:t.local,xdm_c:t.channel,xdm_p:2}),L(t.props,{src:l+"#"+t.channel,name:O+t.channel+"_provider"}),r=J(t)):(t.remoteHelper=t.remote,x.Fn.set(t.channel,f));var n=function(){var e=a||this;v(e,"load",n),x.Fn.set(t.channel+"_load",d),function n(){"function"==typeof e.contentWindow.sendMessage?p():m(n,50)}()};a=J({props:{src:t.local+"#_4"+t.channel},onLoad:n})},init:function(){R(e.onDOMReady,e)}}},x.stack.HashTransport=function(o){var a,r,n,i,c,s,l,u,p,f;function e(){if(l){var n=l.location.href,e="",t=n.indexOf("#");-1!=t&&(e=n.substring(t)),e&&e!=c&&function(n){c=n,a.up.incoming(c.substring(c.indexOf("_")+1),f)}(e)}}function d(){n=setInterval(e,i)}return a={outgoing:function(n,e){!function(n){if(u){var e=o.remote+"#"+s+++"_"+n;(r||!p?u.contentWindow:u).location=e}}(n)},destroy:function(){h.clearInterval(n),!r&&p||u.parentNode.removeChild(u),u=null},onDOMReady:function(){if(r=o.isHost,i=o.interval,c="#"+o.channel,s=0,p=o.useParent,f=N(o.remote),r){if(L(o.props,{src:o.remote,name:O+o.channel+"_provider"}),p)o.onLoad=function(){l=h,d(),a.up.callback(!0)};else{var e=0,t=o.delay/50;!function n(){if(++e>t)throw new Error("Unable to reference listenerwindow");try{l=u.contentWindow.frames[O+o.channel+"_consumer"]}catch(n){}l?(d(),a.up.callback(!0)):m(n,50)}()}u=J(o)}else l=h,d(),p?(u=parent,a.up.callback(!0)):(L(o,{props:{src:o.remote+"#"+o.channel+new Date,name:O+o.channel+"_consumer"},onLoad:function(){a.up.callback(!0)}}),u=J(o))},init:function(){R(a.onDOMReady,a)}}},x.stack.ReliableBehavior=function(n){var a,r,i=0,c=0,s="";return a={incoming:function(n,e){var t=n.indexOf("_"),o=n.substring(0,t).split(",");n=n.substring(t+1),o[0]==i&&(s="",r&&(r(!0),r=null)),0<n.length&&(a.down.outgoing(o[1]+","+i+"_"+s,e),c!=o[1]&&(c=o[1],a.up.incoming(n,e)))},outgoing:function(n,e,t){s=n,r=t,a.down.outgoing(c+","+ ++i+"_"+n,e)}}},x.stack.QueueBehavior=function(r){var i,n,c=[],t=!0,a="",s=0,l=!1,u=!1;function p(){if(r.remove&&0===c.length)!function(n){n.up.down=n.down,n.down.up=n.up,n.up=n.down=null}(i);else if(!t&&0!==c.length&&!n){t=!0;var e=c.shift();i.down.outgoing(e.data,e.origin,function(n){t=!1,e.callback&&m(function(){e.callback(n)},0),p()})}}return i={init:function(){D(r)&&(r={}),r.maxLength&&(s=r.maxLength,u=!0),r.lazy?l=!0:i.down.init()},callback:function(n){t=!1;var e=i.up;p(),e.callback(n)},incoming:function(n,e){if(u){var t=n.indexOf("_"),o=parseInt(n.substring(0,t),10);a+=n.substring(t+1),0===o&&(r.encode&&(a=f(a)),i.up.incoming(a,e),a="")}else i.up.incoming(n,e)},outgoing:function(n,e,t){r.encode&&(n=d(n));var o,a=[];if(u){for(;0!==n.length;)o=n.substring(0,s),n=n.substring(o.length),a.push(o);for(;o=a.shift();)c.push({data:a.length+"_"+o,origin:e,callback:0===a.length?t:null})}else c.push({data:n,origin:e,callback:t});l?i.down.init():p()},destroy:function(){n=!0,i.down.destroy()}}},x.stack.VerifyBehavior=function(o){var a,r,i;function c(){r=Math.random().toString(16).substring(2),a.down.outgoing(r)}return a={incoming:function(n,e){var t=n.indexOf("_");-1===t?n===r?a.up.callback(!0):i||(i=n,o.initiate||c(),a.down.outgoing(n)):n.substring(0,t)===i&&a.up.incoming(n.substring(t+1),e)},outgoing:function(n,e,t){a.down.outgoing(r+"_"+n,e,t)},callback:function(n){o.initiate&&c()}}},x.stack.RpcBehavior=function(e,a){var t,r=a.serializer||B(),i=0,c={};function s(n){n.jsonrpc="2.0",t.down.outgoing(r.stringify(n))}function o(o,a){var r=Array.prototype.slice;return function(){var n,e=arguments.length,t={method:a};0<e&&"function"==typeof arguments[e-1]?(t.params=1<e&&"function"==typeof arguments[e-2]?(n={success:arguments[e-2],error:arguments[e-1]},r.call(arguments,0,e-2)):(n={success:arguments[e-1]},r.call(arguments,0,e-1)),c[""+ ++i]=n,t.id=i):t.params=r.call(arguments,0),o.namedParams&&1===t.params.length&&(t.params=t.params[0]),s(t)}}function l(n,o,e,t){if(e){var a,r;o?(a=function(n){a=b,s({id:o,result:n})},r=function(n,e){r=b;var t={id:o,error:{code:-32099,message:n}};e&&(t.error.data=e),s(t)}):a=r=b,function(n){return"[object Array]"===Object.prototype.toString.call(n)}(t)||(t=[t]);try{var i=e.method.apply(e.scope,t.concat([a,r]));D(i)||a(i)}catch(n){r(n.message)}}else o&&s({id:o,error:{code:-32601,message:"Procedure not found."}})}return t={incoming:function(n,e){var t=r.parse(n);if(t.method)a.handle?a.handle(t,s):l(t.method,t.id,a.local[t.method],t.params);else{var o=c[t.id];t.error?o.error&&o.error(t.error):o.success&&o.success(t.result),delete c[t.id]}},init:function(){if(a.remote)for(var n in a.remote)a.remote.hasOwnProperty(n)&&(e[n]=o(a.remote[n],n));t.down.init()},destroy:function(){for(var n in a.remote)a.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];t.down.destroy()}}},y.easyXDM=x}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);